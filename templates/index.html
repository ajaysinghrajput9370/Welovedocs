<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>We ❤️ Doc - PDF Highlighter</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<style>
body { 
    background: linear-gradient(to right, #e0f2ff, #f0f2f5); 
    display: flex; 
    flex-direction: column; 
    min-height: 100vh; 
    margin: 0;
    font-family: 'Segoe UI', sans-serif;
}
header, footer { 
    width: 100%; 
    background-color: #ffffff; 
    padding: 15px 30px; 
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    display: flex; 
    align-items: center; 
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 1000;
}
header img { height: 55px; }
.container-main { 
    flex: 1; 
    display: flex; 
    flex-direction: column; 
    justify-content: center; 
    align-items: center; 
    padding: 60px 20px;
}
h2 { text-align: center; margin-bottom: 40px; font-weight: bold; color: #1c64f2; }
form { width: 100%; max-width: 600px; }
.form-control, .form-select { 
    height: 60px; 
    font-size: 18px; 
    margin-bottom: 25px; 
    border-radius: 12px;
    border: 1px solid #ccc;
    padding-left: 15px;
}
.btn-custom { 
    background: linear-gradient(90deg, #4e9af1, #1c64f2); 
    color: white; 
    font-size: 20px; 
    font-weight: bold; 
    min-height: 60px; 
    width: 100%; 
    margin-bottom: 20px; 
    border: none;
    border-radius: 12px;
    box-shadow: 0 6px 15px rgba(0,0,0,0.2);
    transition: 0.3s;
}
.btn-custom:hover { 
    filter: brightness(1.1); 
    transform: translateY(-3px); 
}
.btn-refresh { 
    background: #f1f1f1; 
    color: #333; 
    font-weight: bold; 
    border-radius: 12px;
    box-shadow: 0 3px 8px rgba(0,0,0,0.1);
}
.alert-info { 
    font-size: 16px; 
    text-align: center; 
    border-radius: 12px;
    background-color: #dbe9ff;
    color: #1c64f2;
    padding: 15px;
    margin-bottom: 25px;
}
footer a { margin-right: 20px; text-decoration: none; color: #555; }
.user-name { font-weight: bold; color: #1c64f2; }
</style>
</head>
<body>

<header>
    <div class="logo"><img src="{{ url_for('static', filename='assets/logo.png') }}" alt="WeLoveDoc"></div>
    <div class="user-name">
        {% if username %}
            Logged in as: {{ username }} | <a href="{{ url_for('logout') }}">Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}">Login</a> | <a href="{{ url_for('signup') }}">Sign Up</a>
        {% endif %}
    </div>
</header>

<div class="container-main">
    <h2>PDF Highlighter Tool</h2>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="alert alert-info w-100">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="post" enctype="multipart/form-data">
        <input class="form-control" type="file" name="pdf" accept=".pdf" required>
        <input class="form-control" type="file" name="excel" accept=".xls,.xlsx" required>
        <select class="form-select" name="highlight_type" required>
            <option value="pf">PF</option>
            <option value="esic">ESIC</option>
        </select>

        <button type="submit" class="btn-custom">Highlight</button>
        <button type="submit" name="action" value="refresh" class="btn-refresh">Refresh / New Task</button>
    </form>

    {% if output_pdf %}
    <div class="mt-4 w-100 text-center">
        <a href="{{ url_for('download_file', filename='highlighted_output.pdf') }}" class="btn btn-success btn-lg">Download Highlighted PDF</a>
    </div>
    {% endif %}

    {% if not_found_excel %}
    <div class="mt-3 w-100 text-center">
        <a href="{{ url_for('download_file', filename='Data_Not_Found.xlsx') }}" class="btn btn-secondary btn-lg">Download Not Found Excel</a>
    </div>
    {% endif %}
</div>

<footer>
    <div>
        <a href="#">About</a>
        <a href="#">Terms</a>
        <a href="#">Refunds</a>
        <a href="#">Shipping</a>
        <a href="#">Privacy</a>
    </div>
    <div>© 2025 We ❤️ Doc</div>
</footer>

</body>
</html>
